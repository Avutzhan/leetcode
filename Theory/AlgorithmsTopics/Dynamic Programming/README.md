
### Dynamic Programming

классические задачи динамики

* Задача о наибольшей общей подпоследовательности: даны две 
  последовательности, требуется найти самую длинную общую 
  подпоследовательность.
* Задача поиска наибольшей увеличивающейся подпоследовательности: 
  дана последовательность, требуется найти самую длинную возрастающую 
  подпоследовательность.
* Задача о редакционном расстоянии (расстояние Левенштейна): даны 
  две строки, требуется найти минимальное количество стираний, замен 
  и добавлений символов, преобразующих одну строку в другую.
* Задача о вычислении чисел Фибоначчи
* Задача о порядке перемножения матриц: даны матрицы 
  {\displaystyle A_{1}}A_{1}, …, {\displaystyle A_{n}}A_{n}, 
  требуется минимизировать количество скалярных операций для их 
  перемножения.
* Задача о выборе траектории
* Задача последовательного принятия решения
* Задача об использовании рабочей силы
* Задача управления запасами
* Задача о рюкзаке: из неограниченного множества предметов со 
  свойствами «стоимость» и «вес» требуется отобрать некое число 
  предметов таким образом, чтобы получить максимальную суммарную 
  стоимость при ограниченном суммарном весе.
* Алгоритм Флойда — Уоршелла: найти кратчайшие расстояния между 
  всеми вершинами взвешенного ориентированного графа.
* Алгоритм Беллмана — Форда: найти кратчайший путь во взвешенном 
  графе между двумя заданными вершинами.
* Максимальное независимое множество вершин в дереве: дано дерево, 
  найти максимальное множество вершин, никакие две из которых 
  не связаны ребром.

Задача о рюкзаке

Есть рюкзак в котором можно унести товары общим весовм до 4 фунтов
Есть три товара которые можно уложить в рюкзак

Какие предметы следует положить в рюкзак?

Простое решение 

Перебираем все возможные множества товаров и находите
множество с максимальной стоимостью

Такое решение работает очень медленно время выполнения O(2^n)

###Динамическое программирвоание 

Процедура начинается с решения подзадач с постепенным переходом к решению
полной задачи

в задаче о рюкзаке начать следует с решения задачи для меньшего 
рюкзака. а потом на этой основе попытаться решить исходную задачу.

Каждый алгоритм динамического программирвоания начинается с таблицы

Таблица для задачи о рюкзаке

|          |    1|    2|    3|    4| 
| :---:    |:---:|:---:|:---:|:---:|
|гатара    |1500$|1500$|1500$|1500$|
|магнитофон|1500$|1500$|1500$|3000$|
|ноут      |1500$|1500$|2000$|     |

гитара 1500$ 1 фунт
магнитофон 3000$ 4 фунта
ноут 2000$ 3 фунта

в столбце 1 магнитофон сравниваем взять гитару или магнитофон
так как магнитофон тяжелый и не поместится в 1 фунт кладем гитару

столбец 4 магнитофон уже помещается в 4 фунта обновляем текущую стоимость

в ячейке ноут 4 

сравниваем 3000$ or (2000$ + 1500$)

текущий максимум 
новый максимум

Если предмет рассыпчатый то динамика не работает нужно брать все или 
ничего

В таком случае можем использовать жадный алгоритм

* сначала берете самый ценный предмет
* когда он буддет исчерпан берете оставшийся самый ценный предмет
* и так далее

Оптимизация тур маршрута

|Достопримечательность    | Время|Оценка|
|:---:                    | :---:| :---:|
|Вестминстерское Аббадство|1/2дня|7     |
|Театр "Глобус"           |1/2дня|6     |
|Национальная Галерея     |1 день|9     |
|Британский музей         |2 дня |9     |
|Собор св. павла          |1/2дня|8     |

Такая же задача о рюкзаке вместо ограничения емкости
тут ограничение во времени

|                     |  1/2|    1|1 1/2|    2| 
| :---:               |:---:|:---:|:---:|:---:|
|Вестминстер          | 7   |  7  |  7  |  7  |
|Театр "Глобус"       | 7   | 13  |  13 | 13  |
|Национальная Галерея | 7   | 13  |  16 | 22  |
|Британский музей     | 7   | 13  |  16 | 22  |
|Собор св. павла      | 8   | 15  |  21 | 24  |

Ответ 
Вестминстерское аббадство
Национальная Галерея
Собор св павла

Взаимозависимые элементы

Все достопримечательности были в Лондоне
а если добавить достопримечательности в Париже

то тут возникает момент сам перелет с лондона в париж займет больше
времени и сломает логику динамиеского программирования

Динамическое программирование - мощный метод, способный решать 
подзадачи и использовать полученные ответы для решения большой
задачи. Динамическое программирование работает толъко в том случае,
если каждая подзадача автономна, то естъ не зависит от других 
подзадач. Из этого следует, что учесть поездки в Париж в алгоритме 
динамического программирования не удастся.

* Динамическое программирование применяется для оптимизации какой либо
характеристики при заданных ограничениях. В задаче о рюкзаке требуется
  максимизировать стоимость отобранных предметов с ограничениями по 
  емкости рюкзака

* Динамика работает только когда задачи автономны и не зависимы

#Самая длинная общая подстрока

Решения на сонове динамического программирования

* нужна таблица
* значения ячеек оптимизируемая характеристика
с рюкзаками это была общая стоимость товара
* каждая ячейка подзадача. нужно разбивать задачу на подзадачи  

Пример 

Вводишь слово возвращает опеределение. Если пользователь ввел 
несуществующее слово. Нужно предположить какое слово имелось ввиду

список похожих слов
fish 
vista

ввели hish какой должен быть ответ

Строим таблицу

* Какие значения должны содержаться в ячейках
* как разбить эту задачу на подзадачи
* Какой смысл осей таблицы

В динамике вы пытаетесь максимизировать какую то характеристику
в нашем случае надо найти самую длинную подстроку общую в двух словах

в ячейках будет число длина самой длинной подстроки

|          |    H|    I|    S|    H| 
| :---:    |:---:|:---:|:---:|:---:|
|F         | 0   | 0   | 0   | 0   |
|I         | 0   | 1   | 0   | 0   |
|S         | 0   | 0   | 2   | 0   |
|H         | 0   | 0   | 0   | 3   |

|          |    V|    I|    S|    T|    A|
| :---:    |:---:|:---:|:---:|:---:|:---:|
|H         | 0   | 0   | 0   | 0   |    0|
|I         | 0   | 1   | 0   | 0   |    0|
|S         | 0   | 0   | 2   | 0   |    0|
|H         | 0   | 0   | 0   | 0   |    0|

* если значения не совпадают значение = 0
* если совпадают то значение = значение ячейки на верху + 1

Если придумывать алгоритм с нуля нет определенного решения как написать
Придется экспериминтировать и искать работоспособное решение
Иногда можно придумать не точный рецепт а основу на которую надо 
наращивать свою идею до результата

* В задаче о рюкзаке самая последняя цифра это решение
* В задаче с самой длинной подстрокой самая большая цифра
это решение не всегда в конце
  
ответ на задачу будет 
hish и fish общая подстрока = 3 правильный ответ
hish и vista общая подстрока = 2

но эта задача не полноценна и ответ может быть ошибочным

например 

|          |    F|    O|    S|    H| 
| :---:    |:---:|:---:|:---:|:---:|
|F         | 1   | 0   | 0   | 0   |
|O         | 0   | 2   | 0   | 0   |
|R         | 0   | 0   | 0   | 0   |
|T         | 0   | 0   | 0   | 0   |

|          |    F|    O|    S|    H|
| :---:    |:---:|:---:|:---:|:---:|
|F         | 1   | 0   | 0   | 0   |
|I         | 0   | 0   | 0   | 0   |
|S         | 0   | 0   | 1   | 0   |
|H         | 0   | 0   | 0   | 2   |

ввели fosh какой ответ 

общая длинная подтсрока = 2

но по факту fosh ближе к fish = 3 общая подпоследовательная длинна
fosh и fort = 2

правильный ответ fish

#Самая длинная общая подпоследовательность

|          |    F|    O|    S|    H| 
| :---:    |:---:|:---:|:---:|:---:|
|F         | 1   | 1   | 1   | 1   |
|O         | 1   | 2   | 2   | 2   |
|R         | 1   | 2   | 2   | 2   |
|T         | 1   | 2   | 2   | 2   |

|          |    F|    O|    S|    H|
| :---:    |:---:|:---:|:---:|:---:|
|F         | 1   | 1   | 1   | 1   |
|I         | 1   | 1   | 1   | 1   |
|S         | 1   | 1   | 2   | 2   |
|H         | 1   | 1   | 2   | 3   |


* если буквы не совпадают выбрать большее значение

* Динамическое программирование применяется при оптимизации не ­
  которой характеристики.
  
* Динамическое программирование работает только в ситуациях, в кото ­
  рых задача может быть разбита на автономные подзадачи.
  
* В каждом решении из области динамического программирования стро ­
  ится таблица.
  
* Значения ячеек таблицы обычно соответствуют оптимизируемой харак ­
  теристике.
  
* Каждая ячейка представляет подзадачу, поэтому вы должны подумать
  о том, как разбить задачу на подзадачи.
  
* Не существует единой формулы для вычисления решений методом ди­
  намического программирования .
  
